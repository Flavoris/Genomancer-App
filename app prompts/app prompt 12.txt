Task 7.2 — SwiftUI shell
Create files:
- Genomancer/App/GenomancerApp.swift
- Genomancer/App/HomeView.swift
- Genomancer/App/EnzymePicker.swift
- Genomancer/App/FragmentList.swift

Implement a minimal flow: paste sequence → pick enzymes → toggle circular → run digest → view fragments.

// GenomancerApp.swift
import SwiftUI

@main
struct GenomancerApp: App {
    var body: some Scene { WindowGroup { HomeView() } }
}

// HomeView.swift
import SwiftUI
import DigestCore

struct HomeView: View {
    @State private var sequence: String = ""
    @State private var allEnzymes: [Enzyme] = []
    @State private var selected: Set<Enzyme> = []
    @State private var circular = false
    @State private var results: [Fragment] = []

    var body: some View {
        NavigationStack {
            Form {
                Section("Sequence (FASTA or raw)") {
                    TextEditor(text: $sequence)
                        .frame(minHeight: 140)
                        .font(.system(.body, design: .monospaced))
                }
                Section("Options") {
                    Toggle("Circular (plasmid)", isOn: $circular)
                    NavigationLink("Choose Enzymes") { EnzymePicker(all: allEnzymes, selected: $selected) }
                }
                Button("Digest") { runDigest() }.buttonStyle(.borderedProminent)
                if !results.isEmpty {
                    NavigationLink("View Fragments") { FragmentList(fragments: results) }
                }
            }
            .navigationTitle("Genomancer")
            .onAppear(perform: loadEnzymes)
        }
    }

    func loadEnzymes() {
        guard let url = Bundle.main.url(forResource: "enzymes", withExtension: "json") else { return }
        if let loaded = try? EnzymeLoader.load(from: url) { self.allEnzymes = loaded }
    }

    func runDigest() {
        let dna = parseFASTA(sequence)
        let engine = DigestEngine(sequence: dna, enzymes: Array(selected))
        results = engine.digest(options: .init(circular: circular, returnSequences: false))
    }

    func parseFASTA(_ s: String) -> String {
        s.split(separator: "\n").filter{ !$0.hasPrefix(">") }
            .joined().replacingOccurrences(of: "\\s", with: "", options: .regularExpression)
    }
}

// EnzymePicker.swift
import SwiftUI
import DigestCore

struct EnzymePicker: View {
    let all: [Enzyme]
    @Binding var selected: Set<Enzyme>
    @State private var query = ""

    var body: some View {
        List(filtered, id: \.self) { e in
            HStack {
                VStack(alignment: .leading) {
                    Text(e.name).font(.headline)
                    Text(e.site).font(.caption).foregroundStyle(.secondary)
                }
                Spacer()
                if selected.contains(e) { Image(systemName: "checkmark") }
            }
            .contentShape(Rectangle())
            .onTapGesture {
                if selected.contains(e) { selected.remove(e) } else { selected.insert(e) }
            }
        }
        .searchable(text: $query)
        .navigationTitle("Enzymes")
    }

    var filtered: [Enzyme] {
        guard !query.isEmpty else { return all }
        let q = query.lowercased()
        return all.filter { $0.name.lowercased().contains(q) || $0.site.lowercased().contains(q) }
    }
}

// FragmentList.swift
import SwiftUI
import DigestCore

struct FragmentList: View {
    let fragments: [Fragment]
    var body: some View {
        List(fragments, id: \.self) { f in
            HStack {
                Text("\(f.length) bp").font(.headline)
                Spacer()
                Text("[\(f.start) .. \(f.end))").font(.caption).foregroundStyle(.secondary)
            }
        }
        .navigationTitle("Fragments")
    }
}


Checkpoint: Run on simulator; paste a short sequence; pick enzymes; hit Digest; list shows fragments.